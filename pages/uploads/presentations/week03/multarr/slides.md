% 陣列(II) 
% Mudream
% March 15, 2015

# 更多小技巧


# 初始化

```cpp
int arr[5];
arr[0] = 1, arr[1] = 2, arr[2] = 3, arr[3] = 5, arr[4] = 8;
```

可以寫成

```cpp  
int arr[5] = {1, 2, 3, 5, 8};
```

#

## 使用方法

* 語法：

    ```cpp
    型態 陣列名稱[大小] = {初始值, ...};
    ```

#

## 自動填入個數

```cpp
int arr[] = {1, 2, 2, 4, 5};
```

等同於

```cpp
int arr[5] = {1, 2, 2, 4, 5};
```

#

## 自動補零

```cpp
int arr[5] = {1, 2, 3};
```

等同於

```cpp
int arr[5] = {1, 2, 3, 0, 0};
```

# 多維陣列

#

- 假如現在要存一個二維的地圖

- 假如是踩地雷好了

- 每個方格子需要用0或1來儲存代表有沒有地雷

- 一維要如做出來？

#

## 模擬二維 

* 一個3x3的地圖

    |-----------|-----------|-----------|
    | (0, 0)->0 | (1, 0)->1 | (2, 0)->2 |
    | (0, 1)->3 | (1, 1)->4 | (2, 1)->5 |
    | (0, 2)->6 | (1, 2)->7 | (2, 2)->8 |

* 對應到 `int arr[9];`

    |---|---|---|---|---|---|---|---|---|
    | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 |

* Code ?

    ```cpp
    int arr[9];
    // arr[y*3 + x] 是第 y row，
    //    第 x column 的元素。
    ```

#

## 模擬二維 

* 或者Code像：

    ```cpp
    int arr0[3], arr1[3], arr2[3];
    ```

* 但是？

    當然不可以這樣存取XD

    ```
    std::cout << arri[j];
    // arri ???
    ```

# 二維陣列

* 像這樣

    ```cpp
    int arr[3][3];
    ```

* 現在可以這樣存取

    ```cpp
    std::cout << arr[i][j];
    ```

#

## 

* arr[0]是這排

    |---------|---------|---------|
    |arr[0][0]|arr[0][1]|arr[0][2]|

* arr[1]是這排

    |---------|---------|---------|
    |arr[1][0]|arr[1][1]|arr[1][2]|

* arr[2]是這排

    |---------|---------|---------|
    |arr[2][0]|arr[2][1]|arr[2][2]|

#

## 讀入、輸出一個陣列

* 這並不會Work喔

    ```cpp
    std::cout << arr;
    //這並不會輸出陣列。
    ```

* 必須一個一個讀入每個元素

    ```cpp
    for(int i = 0; i < 3;i++)
      for(int j = 0;j < 3;j++)
        std::cin >> arr[i][j];
    ```

* 輸出

    ```cpp
    for(int i = 0; i < 3;i++)
      for(int j = 0;j < 3;j++)
        std::cout << arr[i][j];
    ```

#

## 二維初始化

* 回憶一下一維的初始方法

    ```cpp
    int arr[3][3] = {
          //初始化 arr[0]
        , //初始化 arr[1]
        , //初始化 arr[2]
    };

    ```

* arr[i]也都是陣列

    ```cpp
    int arr[3][3] = {
          {0, 0, 1}
        , {1, 0, 1}
        , {0, 1, 1}
    };
    ```

#

## 更多維？

```cpp
int arr[2][3][3] = {
    {
        {0, 1, 1},
        {1, 0, 1},
        {1, 1, 0}
    },{
        {0, 0, 1},
        {1, 0, 0},
        {0, 1, 0}
    }
};
```

```cpp
for(int i = 0; i < 2; i++)
    for(int j = 0; j < 3; j++)
        for(int k = 0; k < 3; k++)
            std::cin >> arr[i][j][k];
```


# 回顧

* 陣列初始化
* 多維陣列
* 多維陣列初始化 
* 多維陣列操作

#

## 練習題：踩地雷

給一個地雷地圖，算出每格周圍八格有地雷的總數。
